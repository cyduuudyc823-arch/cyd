<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Yundu Chen</title>
    
    <!-- 1. Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- 2. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        void: '#050505',
                        mist: '#F0F0F0',
                        acid: '#CCFF00',
                        glass: 'rgba(255, 255, 255, 0.03)',
                        glassBorder: 'rgba(255, 255, 255, 0.1)'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Syne', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- 3. Styles -->
    <style>
        /* Special Fonts for Constellation Garden */
        @font-face {
            font-family: 'Snell Roundhand';
            src: local('Snell Roundhand'), local('SnellRoundhand');
        }
        @font-face {
            font-family: '03HomuraM-SemiLight';
            src: local('03HomuraM-SemiLight');
        }

        body {
            background-color: #050505;
            color: #F0F0F0;
            overflow-x: hidden;
            cursor: none;
            -webkit-font-smoothing: antialiased;
        }

        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9998;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
        }

        /* Cursor */
        .cursor-dot, .cursor-outline {
            position: fixed;
            top: 0; left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot { width: 8px; height: 8px; background-color: #CCFF00; }
        .cursor-outline {
            width: 40px; height: 40px;
            border: 1px solid rgba(240, 240, 240, 0.5);
            transition: width 0.2s, height 0.2s;
            mix-blend-mode: exclusion;
        }
        body.hovering .cursor-outline { width: 80px; height: 80px; background-color: rgba(255, 255, 255, 0.1); }

        .detail-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.4em;
            color: #CCFF00;
            font-weight: 800;
            margin-bottom: 0.75rem;
            display: block;
        }

        .pill-tag {
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1px 8px;
            border-radius: 4px;
            display: inline-block;
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #888;
        }

        /* Project Card Alignment */
        .project-preview-box {
            width: 100%;
            aspect-ratio: 16 / 9;
            background: #0d0d0d;
            border-radius: 2px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .project-preview-box img, .project-preview-box video { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }
        .project-title-container { min-height: 3.5rem; margin-top: 1rem; margin-bottom: 0.5rem; }

        .category-header { font-weight: 900; letter-spacing: 0.4em; color: #CCFF00; }
        .vertical-arrow-guide {
            width: 1px; height: 50px;
            background: linear-gradient(to bottom, #CCFF00, transparent);
            margin: 1rem 0 2rem 0; opacity: 0.6; position: relative;
        }
        .vertical-arrow-guide::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 8px; height: 8px;
            border-right: 1px solid #CCFF00; border-bottom: 1px solid #CCFF00;
            transform: translateX(-50%) rotate(45deg); clip-path: polygon(100% 0, 100% 100%, 0 100%); 
        }

        /* Default Gallery Slots */
        .visual-gallery { display: flex; flex-direction: column; width: 100%; margin: 0; padding: 0; }
        .visual-slot { width: 100%; aspect-ratio: 1728 / 1117; overflow: hidden; margin: 0; padding: 0; }
        .visual-slot img { width: 100%; height: 100%; object-fit: cover; mix-blend-mode: lighten; display: block; }

        /* --- CONSTELLATION GARDEN SPECIFIC STYLES --- */
        .cursive-font { font-family: 'Snell Roundhand', cursive; }
        .main-text-star { font-family: '03HomuraM-SemiLight', "Source Han Serif CN", "Songti SC", serif; line-height: 1.6; font-size: 14px; }
        .video-container video { width: 100%; height: auto; display: block; }
        
        .section-dark-star { background-color: #000; padding: 60px 40px; color: #fff; text-align: left; }
        .section-light-star { background-color: #fff; color: #000; padding: 80px 0 0 0; position: relative; min-height: 100vh; text-align: left; }

        .planet-crop { width: 30%; overflow: hidden; display: flex; justify-content: flex-start; }
        .planet-crop video { width: 200%; max-width: none; margin-left: -100%; }

        .video-p2-container { width: 320px; height: 240px; overflow: hidden; background: transparent; display: flex; align-items: center; justify-content: center; }
        .video-p2-container video { width: 100%; height: 100%; object-fit: contain; }

        .interactive-container-star { position: relative; width: 100vw; left: 50%; transform: translateX(-50%); overflow: hidden; background-color: #fff; }
        .base-image-star { width: 100%; height: auto; display: block; }

        .floating-logo-star {
            position: absolute; top: calc(15% + 6.0cm); left: calc(10% - 2.3cm);
            width: 18%; pointer-events: none; transition: transform 0.1s ease-out; z-index: 30; 
        }

        .overlay-video-p9-star {
            position: absolute; bottom: calc(1319px - 12.5cm); left: 10.5%; 
            width: 15.8%; aspect-ratio: 418 / 900; border-radius: 20px; 
            overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            transition: transform 0.15s ease-out; z-index: 20;
        }
        .overlay-video-p9-star video { width: 100%; height: 100%; object-fit: cover; }

        @media (max-width: 1024px) {
            .overlay-video-p9-star { bottom: 20%; width: 20%; left: 8%; }
        }

        @media (max-width: 768px) {
            .section-dark-star { padding: 40px 20px; }
            .planet-crop { width: 40%; }
            .video-p2-container { width: 240px; height: 180px; }
            .floating-logo-star { width: 30%; top: calc(15% + 4.0cm); left: calc(10% - 1.3cm); }
            .overlay-video-p9-star { width: 35%; left: 5%; bottom: 15%; }
        }
    </style>
</head>
<body>

    <div id="app" class="relative">
        <div class="noise-overlay"></div>

        <div ref="cursorDot" class="cursor-dot hidden md:block"></div>
        <div ref="cursorOutline" class="cursor-outline hidden md:block"></div>

        <!-- Global Nav -->
        <nav class="fixed top-0 left-0 w-full px-6 py-8 flex justify-between items-center z-50 mix-blend-difference">
            <div class="text-xl font-display font-bold tracking-tighter cursor-pointer" @click="scrollToTop" @mouseenter="cursorHover" @mouseleave="cursorLeave">
                {{ profile.nav.logo }}
            </div>
            <ul class="flex space-x-8 text-[11px] uppercase tracking-widest font-medium">
                <li v-for="item in profile.nav.links" :key="item.text" class="cursor-pointer hover:text-acid transition-colors duration-300" @click="handleNavClick(item.target)" @mouseenter="cursorHover" @mouseleave="cursorLeave">
                    {{ item.text }}
                </li>
            </ul>
        </nav>

        <div class="view-container">
            
            <!-- SECTION: HOME VIEW -->
            <div v-if="currentView === 'home'" key="home">
                <!-- Hero Section -->
                <section id="hero" class="min-h-screen flex flex-col justify-center items-center px-6 text-center pt-20">
                    <h1 class="font-display text-5xl md:text-8xl font-bold tracking-tighter text-mist">{{ profile.hero.name }}</h1>
                    <div class="h-12"></div>
                    <div class="max-w-3xl text-[14px] leading-relaxed text-gray-400 space-y-10">
                        <div id="about-anchor"><span class="text-mist font-bold uppercase tracking-[0.3em] block mb-3 text-[10px]">Who Am I</span><p class="max-w-2xl mx-auto italic">{{ profile.hero.whoAmI }}</p></div>
                        <div>
                            <span class="text-mist font-bold uppercase tracking-[0.3em] block mb-4 text-[10px]">What I Do</span>
                            <div class="flex flex-wrap justify-center gap-3">
                                <span v-for="tag in profile.hero.whatIDoTags" :key="tag" class="pill-tag">{{ tag }}</span>
                            </div>
                        </div>
                        <div class="pt-10 flex justify-center items-center space-x-12 opacity-30 grayscale hover:opacity-100 transition-all duration-700">
                            <span v-for="partner in profile.partners" :key="partner" class="font-display font-extrabold text-xl tracking-tighter">{{ partner }}</span>
                        </div>
                    </div>
                </section>

                <!-- Works Section -->
                <section id="projects" class="py-24 px-6 md:px-20 border-t border-white/5">
                    <h2 class="font-display text-4xl text-mist flex items-center mb-16"><span class="w-3 h-3 bg-acid rounded-full mr-4"></span>Works</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-12 items-start" @mouseleave="focusedProject = null">
                        <div class="flex flex-col items-start"><span class="category-header text-[14px] md:text-[18px] uppercase">Service Design</span><div class="vertical-arrow-guide"></div></div>
                        <div class="hidden md:flex flex-col items-start"><span class="category-header text-[14px] md:text-[18px] uppercase">Visual Design</span><div class="vertical-arrow-guide"></div></div>

                        <template v-for="rowIndex in maxProjectRows" :key="rowIndex">
                            <!-- Service Design Column -->
                            <div v-if="getProjectByRow('Service', rowIndex-1)" 
                                 @click="setView(getProjectByRow('Service', rowIndex-1).id)"
                                 class="project-item group cursor-pointer transition-all duration-500"
                                 :class="{'opacity-20': focusedProject && focusedProject !== getProjectByRow('Service', rowIndex-1).id}"
                                 @mouseenter="focusedProject = getProjectByRow('Service', rowIndex-1).id; cursorHover()" @mouseleave="cursorLeave">
                                <div class="project-preview-box">
                                    <video v-if="getProjectByRow('Service', rowIndex-1).cardImg?.endsWith('.mp4')" 
                                           :src="getProjectByRow('Service', rowIndex-1).cardImg" 
                                           autoplay muted loop playsinline class="grayscale group-hover:grayscale-0 transition-all duration-1000"></video>
                                    <img v-else :src="getProjectByRow('Service', rowIndex-1).cardImg || 'https://via.placeholder.com/1728x1117/0a0a0a/0a0a0a?text=+'" class="grayscale group-hover:grayscale-0 transition-all duration-1000">
                                </div>
                                <div class="project-title-container"><h3 class="font-display text-xl md:text-2xl font-bold text-mist group-hover:text-acid transition-colors leading-tight">{{ getProjectByRow('Service', rowIndex-1).name }}</h3></div>
                                <div class="flex flex-wrap gap-2 pt-1"><span v-for="tag in getProjectByRow('Service', rowIndex-1).tags" :key="tag" class="pill-tag">{{ tag }}</span></div>
                            </div>
                            <div v-else class="hidden md:block"></div>

                            <!-- Visual Design Column -->
                            <div v-if="getProjectByRow('Visual', rowIndex-1)" 
                                 @click="setView(getProjectByRow('Visual', rowIndex-1).id)"
                                 class="project-item group cursor-pointer transition-all duration-500"
                                 :class="{'opacity-20': focusedProject && focusedProject !== getProjectByRow('Visual', rowIndex-1).id}"
                                 @mouseenter="focusedProject = getProjectByRow('Visual', rowIndex-1).id; cursorHover()" @mouseleave="cursorLeave">
                                <div class="project-preview-box">
                                    <video v-if="getProjectByRow('Visual', rowIndex-1).cardImg?.endsWith('.mp4')" 
                                           :src="getProjectByRow('Visual', rowIndex-1).cardImg" 
                                           autoplay muted loop playsinline class="grayscale group-hover:grayscale-0 transition-all duration-1000"></video>
                                    <img v-else :src="getProjectByRow('Visual', rowIndex-1).cardImg || 'https://via.placeholder.com/1728x1117/0a0a0a/0a0a0a?text=+'" class="grayscale group-hover:grayscale-0 transition-all duration-1000">
                                </div>
                                <div class="project-title-container"><h3 class="font-display text-xl md:text-2xl font-bold text-mist group-hover:text-acid transition-colors leading-tight">{{ getProjectByRow('Visual', rowIndex-1).name }}</h3></div>
                                <div class="flex flex-wrap gap-2 pt-1"><span v-for="tag in getProjectByRow('Visual', rowIndex-1).tags" :key="tag" class="pill-tag">{{ tag }}</span></div>
                            </div>
                            <div v-else class="hidden md:block"></div>
                        </template>
                    </div>
                </section>

                <footer id="contact" class="min-h-[50vh] flex flex-col justify-center items-center px-6 md:px-20 border-t border-white/5 text-center">
                    <p class="text-acid mb-6 text-sm font-mono tracking-widest uppercase">Get in Touch</p>
                    <a :href="'mailto:' + profile.contact.email" class="block text-2xl md:text-4xl font-display font-bold hover:text-acid transition-colors mb-10 tracking-tighter" @mouseenter="cursorHover" @mouseleave="cursorLeave">{{ profile.contact.email }}</a>
                    <a href="https://www.linkedin.com/in/yundu-chen-46b2ba397" target="_blank" class="flex items-center gap-3 text-gray-600 hover:text-white transition-all group" @mouseenter="cursorHover" @mouseleave="cursorLeave"><svg class="w-5 h-5 fill-current group-hover:text-acid transition-colors" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg><span class="text-[10px] uppercase tracking-[0.3em] font-bold">Connect on LinkedIn</span></a>
                    <div class="mt-24 text-gray-800 text-[10px] uppercase tracking-widest italic">© {{ new Date().getFullYear() }} Yundu Chen</div>
                </footer>
            </div>

            <!-- VIEW: PROJECT DETAIL -->
            <div v-else-if="currentProject" key="detail" class="min-h-screen">
                <section class="py-20 md:py-24 px-6 md:px-32 max-w-7xl mx-auto">
                    <div class="mb-16">
                        <span class="detail-label">Case Study</span>
                        <h1 class="font-display text-2xl md:text-4xl font-black text-mist tracking-tighter leading-[1.1] mb-8 max-w-5xl uppercase">{{ currentProject.name }}</h1>
                        <div class="flex flex-wrap items-center gap-x-12 gap-y-6 pt-6 border-t border-white/10">
                            <div v-if="currentProject.details.role"><span class="detail-label opacity-40 mb-1">Role</span><p class="text-mist text-[11px] font-bold uppercase">{{ currentProject.details.role }}</p></div>
                            <div v-if="currentProject.details.year"><span class="detail-label opacity-40 mb-1">Year</span><p class="text-mist text-[11px] font-bold">{{ currentProject.details.year }}</p></div>
                            <div class="flex-grow"></div>
                            <div class="flex gap-2"><span v-for="tag in currentProject.tags" :key="tag" class="pill-tag border border-acid/20 text-acid bg-acid/5">{{ tag }}</span></div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-20 gap-y-12 items-start">
                        <div v-if="currentProject.details.context"><span class="detail-label text-acid">Context</span><p class="text-gray-300 text-[15px] leading-relaxed italic border-l-2 border-acid/30 pl-6">{{ currentProject.details.context }}</p></div>
                        <div v-if="currentProject.details.strategy"><span class="detail-label text-acid">Strategy / Approach</span><p class="text-gray-400 text-[14px] leading-loose whitespace-pre-line">{{ currentProject.details.strategy }}</p></div>
                        <div v-else class="hidden md:block"></div>
                        <div v-if="currentProject.details.opportunity || currentProject.details.objective"><span class="detail-label text-acid">{{ currentProject.details.opportunity ? 'Opportunity' : 'Objective' }}</span><p class="text-gray-300 text-[15px] leading-relaxed">{{ currentProject.details.opportunity || currentProject.details.objective }}</p></div>
                        <div v-if="currentProject.details.solution"><span class="detail-label text-acid">Solution</span><p class="text-gray-400 text-[14px] leading-loose whitespace-pre-line">{{ currentProject.details.solution }}</p></div>
                        <div v-else class="hidden md:block"></div>
                        <div v-if="currentProject.details.impact" class="md:col-span-2 bg-white/[0.02] p-8 md:p-12 rounded-2xl border border-glassBorder mt-4"><span class="detail-label">Outcome & Impact</span><p class="text-gray-200 text-[15px] leading-relaxed max-w-4xl whitespace-pre-line">{{ currentProject.details.impact }}</p></div>
                    </div>
                </section>

                <!-- CUSTOM SECTION: STAR RETROCESSION CONSTELLATION GARDEN -->
                <div v-if="currentProject.id === 'star-retro'" class="w-full">
                    <!-- Part 1: Black Background -->
                    <section class="section-dark-star min-h-screen flex flex-col items-start">
                        <h1 class="cursive-font text-5xl md:text-7xl mb-12 leading-tight tracking-wide">CONSTELLATION<br>GARDEN</h1>
                        <div class="w-full max-w-lg mx-auto mb-16 video-container">
                            <video autoplay loop muted playsinline><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770424834/star01_ibhq7a.mp4" type="video/mp4"></video>
                        </div>
                        <div class="max-w-4xl mx-auto mb-24 text-center">
                            <p class="main-text-star opacity-90">The Twenty-Eight Mansions are twenty-eight star regions divided by ancient Chinese astronomers for observing the movements of the sun, moon, and five planets. They consist of seven mansions each for the Azure Dragon in the East, the Vermilion Bird in the South, the White Tiger in the West, and the Black Tortoise in the North.</p>
                        </div>
                        <div class="w-full flex flex-col md:flex-row gap-8 mb-24 items-start px-10">
                            <div class="md:w-1/2">
                                <p class="main-text-star text-xs mb-6 opacity-80">The phrase "stars return" originally referred to the stars returning to their original positions,<br>signifying the end of the year.</p>
                                <div class="video-p2-container"><video autoplay loop muted playsinline><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770424887/star02_fkzjrq.mp4" type="video/mp4"></video></div>
                            </div>
                        </div>
                        <div class="w-full flex flex-col md:flex-row justify-between items-end mt-auto px-10">
                            <div class="mb-8 md:mb-0"><p class="main-text-star text-xs opacity-70">The logo combines<br>star graphics<br>and<br>flowers.</p></div>
                            <div class="flex items-center gap-0 mr-[-10px] md:mr-0"> 
                                <img src="https://res.cloudinary.com/dhonki8qe/image/upload/v1770424975/star03_av2qdh.png" alt="Logo Graphic" class="h-32 md:h-56 object-contain">
                                <img src="https://res.cloudinary.com/dhonki8qe/image/upload/v1770424986/star04_brc37i.png" alt="Logo Icon" class="h-20 md:h-32 object-contain">
                            </div>
                        </div>
                    </section>
                    <!-- Part 2: White Background -->
                    <section class="section-light-star">
                        <div class="absolute right-10 top-10 text-right"><p class="main-text-star text-sm italic">romantic and dreamlike<br>starry garden</p></div>
                        <div class="flex items-center pt-24 pb-12 w-full">
                            <div class="planet-crop"><video autoplay loop muted playsinline><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770424995/star05_j1dndk.mp4" type="video/mp4"></video></div>
                            <div class="w-1/2 md:w-1/2 ml-auto mr-12 video-container"><video autoplay loop muted playsinline><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770424999/star06_rqlklo.mp4" type="video/mp4"></video></div>
                        </div>
                        <div class="text-right px-10 mb-12"><p class="main-text-star text-sm">blue sky<br>sunrise</p></div>
                        <div class="w-screen relative left-1/2 -translate-x-1/2 video-container">
                            <video autoplay loop muted playsinline class="w-full"><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770425013/star07_yjp74m.mp4" type="video/mp4"></video>
                        </div>
                        <!-- Interactive Parallax Section -->
                        <div class="interactive-container-star" id="logoContainer">
                            <img src="https://res.cloudinary.com/dhonki8qe/image/upload/v1770425084/star08_evv2ub.jpg" class="base-image-star" alt="Background">
                            <div class="overlay-video-p9-star" id="p9Video"><video autoplay loop muted playsinline><source src="https://res.cloudinary.com/dhonki8qe/video/upload/v1770425093/star09_lzjheb.mp4" type="video/mp4"></video></div>
                            <img src="https://res.cloudinary.com/dhonki8qe/image/upload/v1770428685/oxayh4.tif_4x_2_bqmseg.png" class="floating-logo-star" id="shakingLogo" alt="Floating Logo">
                        </div>
                    </section>
                </div>

                <!-- Default Gallery for other projects -->
                <section v-else class="visual-gallery">
                    <div v-for="(img, index) in currentProject.gallery" :key="index" class="visual-slot">
                        <img v-if="img" :src="img" alt="Documentation">
                        <div v-else class="w-full h-full bg-[#080808] flex items-center justify-center border-y border-white/[0.02]"><span class="text-[8px] text-white/5 tracking-[0.8em] uppercase">Visual Artifact 0{{ index + 1 }}</span></div>
                    </div>
                </section>

                <section class="py-32 text-center bg-void">
                    <button @click="setView('home', '#projects')" class="px-16 py-5 bg-acid text-void font-bold rounded-full hover:scale-105 transition-all duration-500 uppercase tracking-widest text-[10px]" @mouseenter="cursorHover" @mouseleave="cursorLeave">Return to Index</button>
                </section>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        const profileData = {
            nav: { logo: 'YUNDU.', links: [{ text: 'About', target: 'about' }, { text: 'Works', target: 'projects' }, { text: 'Contact', target: 'contact' }] },
            hero: {
                name: "Yundu Chen",
                whoAmI: "I am a multidisciplinary designer bridging Strategic Service Design and Visual Creativity. I combine the logic of a strategist with the eye of an artist to create work that works.",
                whatIDoTags: ["Service & System Design", "User Experience", "Branding & Identity", "Visual Storytelling"],
                background: "Based in London. RCA."
            },
            partners: ["TESCO", "RED CROSS", "WWF"],
            contact: { email: "cydudyc.823@gmail.com" },
            projects: [
                { id: 'genz-future', name: "GenZ4Good — Designing Future Giving", category: "Service", tags: ["Service Design", "Strategy"], cardImg: "https://raw.githubusercontent.com/cyduuuudyc823-arch/cyd/main/future_1.gif", details: { role: "Researcher · Strategy · Lead", year: "2025", context: "Charities face declining donor engagement.", strategy: "Community collaboration framework.", impact: "Moves from donations to participation." }, gallery: ["https://raw.githubusercontent.com/cyduuuudyc823-arch/cyd/main/future_1.gif", "", "", "", "", "", "", ""] },
                { id: 'tesco-clubcard', name: "Tesco Clubcard — Ecosystem Analysis", category: "Service", tags: ["Ecosystem"], details: { year: "2025", context: "Retail loyalty ecosystem analysis." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'cat-aid', name: "Paw-to-Paw Cat — Mutual Aid", category: "Service", tags: ["Pet"], details: { year: "2023", context: "Trusted pet medical infrastructure." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'urban-futures', name: "Co-Vision Chess — Participatory Urban", category: "Service", tags: ["Civic"], details: { year: "2024", context: "Citizen-led urban planning." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'doggo-go', name: "Doggo Go — Community Care", category: "Service", tags: ["Pet Care"], details: { year: "2023", context: "Shared pet responsibility platform." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'i-me-ai', name: "I, Me — AI Intimacy Design", category: "Visual", tags: ["Speculative"], details: { year: "2025", context: "Speculative intimacy in AI era." }, gallery: ["", "", "", "", "", "", "", ""] },
                { 
                    id: 'star-retro', name: "Star Retrocession — Traditional Cosmology", category: "Visual", tags: ["UI", "3D", "Heritage"],
                    cardImg: "https://res.cloudinary.com/dhonki8qe/video/upload/v1770425013/star07_yjp74m.mp4",
                    details: { year: "2024", context: "A cultural innovation project reinterpreting the traditional Chinese 28 Lunar Mansions through interactive digital media.", opportunity: "Reinterpret ancient star systems through digital interaction.", strategy: "A digital “constellation garden”: 3D botanical forms translated from celestial structures.", impact: "Bridges cultural heritage with modern aesthetics." },
                    gallery: [] // Custom Star Retro section
                },
                { id: 'zhicha', name: "Zhicha — Wellness Tea Brand", category: "Visual", tags: ["Branding"], details: { year: "2025", context: "Inspired by traditional herbal culture." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'beicangmen', name: "Beicangmen Art District — Wayfinding", category: "Visual", tags: ["Signage"], details: { year: "2024", context: "Environmental navigation system." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'full-luck', name: "Full Luck Design", category: "Visual", tags: ["Product"], details: { year: "2024", context: "Traditional figurine cultural innovation." }, gallery: ["", "", "", "", "", "", "", ""] },
                { id: 'share-bite', name: "Share a Bite — Shared Kitchen", category: "Visual", tags: ["Branding"], details: { year: "2024", context: "Shared kitchen service identity." }, gallery: ["", "", "", "", "", "", "", ""] }
            ]
        };

        const { createApp, ref, onMounted, nextTick, computed, watch } = Vue;

        createApp({
            setup() {
                const profile = ref(profileData);
                const cursorDot = ref(null);
                const cursorOutline = ref(null);
                const currentView = ref('home');
                const focusedProject = ref(null);

                const cursorHover = () => document.body.classList.add('hovering');
                const cursorLeave = () => document.body.classList.remove('hovering');

                const serviceProjects = computed(() => profile.value.projects.filter(p => p.category === 'Service'));
                const visualProjects = computed(() => profile.value.projects.filter(p => p.category === 'Visual'));
                const maxProjectRows = computed(() => Math.max(serviceProjects.value.length, visualProjects.value.length));

                const getProjectByRow = (category, index) => {
                    const list = category === 'Service' ? serviceProjects.value : visualProjects.value;
                    return list[index] || null;
                };

                const setView = (view) => {
                    currentView.value = view;
                    nextTick(() => window.scrollTo(0, 0));
                };

                const scrollToTop = () => setView('home');

                const handleNavClick = (target) => {
                    if (target === 'about') scrollToTop();
                    else {
                        if (currentView.value !== 'home') {
                            currentView.value = 'home';
                            nextTick(() => {
                                const el = document.getElementById(target + '-anchor') || document.getElementById(target);
                                if (el) el.scrollIntoView({ behavior: 'smooth' });
                            });
                        } else {
                            const el = document.getElementById(target + '-anchor') || document.getElementById(target);
                            if (el) el.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                };

                // Parallax effect for Star Retrocession
                const initStarRetroParallax = () => {
                    const container = document.getElementById('logoContainer');
                    const logo = document.getElementById('shakingLogo');
                    const video9 = document.getElementById('p9Video');

                    if (!container || !logo || !video9) return;

                    const handleMove = (e) => {
                        const rect = container.getBoundingClientRect();
                        const mouseX = (e.clientX - rect.left) / rect.width - 0.5;
                        const mouseY = (e.clientY - rect.top) / rect.height - 0.5;

                        logo.style.transform = `translate(${mouseX * 60}px, ${mouseY * 60}px)`;
                        video9.style.transform = `translate(${mouseX * 30}px, ${mouseY * 30}px)`;
                    };

                    const handleLeave = () => {
                        const restore = 'transform 0.5s ease-out';
                        logo.style.transition = restore;
                        video9.style.transition = restore;
                        logo.style.transform = 'translate(0, 0)';
                        video9.style.transform = 'translate(0, 0)';
                        
                        setTimeout(() => {
                            logo.style.transition = 'transform 0.1s ease-out';
                            video9.style.transition = 'transform 0.15s ease-out';
                        }, 500);
                    };

                    container.addEventListener('mousemove', handleMove);
                    container.addEventListener('mouseleave', handleLeave);
                };

                // Watch view changes to re-init special parallax
                watch(currentView, (val) => {
                    if (val === 'star-retro') {
                        nextTick(initStarRetroParallax);
                    }
                });

                onMounted(() => {
                    window.addEventListener("mousemove", (e) => {
                        if (cursorDot.value && cursorOutline.value) {
                            cursorDot.value.style.left = `${e.clientX}px`;
                            cursorDot.value.style.top = `${e.clientY}px`;
                            gsap.to(cursorOutline.value, { x: e.clientX, y: e.clientY, duration: 0.15 });
                        }
                    });
                });

                const currentProject = computed(() => profile.value.projects.find(p => p.id === currentView.value));

                return { profile, cursorDot, cursorOutline, focusedProject, currentView, setView, currentProject, cursorHover, cursorLeave, maxProjectRows, getProjectByRow, scrollToTop, handleNavClick };
            }
        }).mount('#app');
    </script>
</body>
</html>
